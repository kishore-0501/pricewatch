{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PriceWatch</title>

    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", Arial, sans-serif;
            background: #f5f6fa;
        }

        /* NAVBAR */
        .navbar {
            background: #1e1e2f;
            padding: 18px 40px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            font-size: 26px;
            font-weight: 700;
            color: #00e6ac;
        }

        .nav-links a {
            margin-left: 20px;
            color: #dcdcdc;
            text-decoration: none;
            font-size: 16px;
        }

        /* HERO SECTION */
        .hero {
            text-align: center;
            padding: 90px 30px;
            background: linear-gradient(135deg, #0ae, #0ac4a7);
            color: white;
        }

        .hero h1 {
            font-size: 45px;
            margin-bottom: 20px;
        }

        .tagline {
            font-size: 20px;
            opacity: .9;
        }

        .search-box-container {
            margin-top: 40px;
            display: flex;
            justify-content: center;
        }

        .search-box {
            padding: 17px;
            width: 60%;
            border-radius: 40px;
            border: none;
            font-size: 18px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.25);
        }

        /* GRAPH SECTION */
        .graph-section {
            padding: 60px;
            background: white;
            text-align: center;
        }

        .graph-section h2 {
            font-size: 30px;
            margin-bottom: 30px;
        }

        .graph-box {
            width: 80%;
            height: 350px;
            margin: auto;
            background: #eef2ff;
            border-radius: 15px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            color: #555;
            font-size: 20px;
        }

        /* MARKETPLACE */
        .market-section {
            padding: 60px;
            background: #f8f8ff;
        }

        .market-container {
            width: 60%;
            background: white;
            padding: 40px;
            margin: auto;
            border-radius: 15px;
            box-shadow: 0 3px 20px rgba(0,0,0,0.12);
        }

        label {
            font-size: 17px;
            font-weight: 600;
        }

        select, input {
            width: 100%;
            padding: 13px;
            margin: 12px 0 25px 0;
            border-radius: 12px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        .place-order-btn {
            padding: 15px;
            width: 100%;
            background: #00cc88;
            border: none;
            color: white;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
        }

        /* FOOTER */
        footer {
            background: #1e1e2f;
            padding: 30px;
            color: white;
            margin-top: 40px;
            text-align: center;
        }
    </style>

</head>
<body>

    <!-- NAVIGATION -->
    <div class="navbar">
        <div class="brand">PriceWatch</div>
        <div class="nav-links">
            <a href="#">Home</a>
            <a href="#">Price Graph</a>
            <a href="#">Marketplace</a>
            <a href="/signup">Signup</a>
            <a href="/accounts/login">Login</a>
        </div>
    </div>

    <!-- HERO -->
    <section class="hero">
        <h1>Track Product Prices Effortlessly</h1>
        <div class="tagline">
            Get alerts, compare prices, and save more with PriceWatch.
        </div>

        <form action="{% url 'search_product' %}" method="get" class="search-box-container">
            <div class="search-wrapper">
                <input 
                    type="text" 
                    name="q" 
                    class="search-box" 
                    placeholder="Search any product..."
                    required
                >
                <button type="submit" class="search-arrow-btn">âžœ</button>
            </div>
        </form>
    </section>

    
        <h1 class="text-3xl font-bold mb-6">Products</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for product in products %}
        <div class="bg-white p-4 rounded-xl shadow-md">
         <img src="{% static '' %}{{ product.image }}"
     alt="{{ product.name }}"
     class="w-full h-48 object-cover rounded-lg mb-4">

            <h2 class="text-xl font-semibold mb-2">{{ product.name }}</h2>
            <p class="text-gray-700 mb-2">{{ product.description|truncatewords:20 }}</p>
            <p class="text-lg font-bold mb-4">â‚¬{{ product.price }}</p>

            <a href="{% url 'product_detail' product.id %}" class="inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">View Details</a>
        </div>
        {% endfor %}
    </div>
    
    <style>
    
/* Container for the search box */
.search-box-container {
    display: flex;
    justify-content: center; /* center the search bar horizontally */
    margin-top: 20px;
}

/* Wrapper to hold input and button together */
.search-wrapper {
    display: flex;
    border: 2px solid #ccc;  /* border around the search bar */
    border-radius: 25px;     /* rounded corners */
    overflow: hidden;         /* clip the button inside rounded corners */
    width: 400px;             /* adjust width as needed */
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* subtle shadow */
}

/* Search input */
.search-box {
    flex: 1;                  /* take up remaining space */
    border: none;             /* remove default border */
    padding: 10px 20px;       /* space inside input */
    font-size: 16px;
    outline: none;            /* remove outline on focus */
}

/* Search button with arrow */
.search-arrow-btn {
    background-color: #007BFF; /* blue button */
    color: white;
    border: none;
    padding: 0 20px;
    cursor: pointer;
    font-size: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
}

.search-arrow-btn:hover {
    background-color: #0056b3; /* darker on hover */
}



    </style>
    

    <!-- GRAPH -->
    <section class="graph-section">
        <h2>Price History</h2>
        <div class="graph-box">
            ðŸ“ˆ Graph will be loaded here
        </div>
    </section>
